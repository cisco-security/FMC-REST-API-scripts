################################################################################
#                                                                              #
# Copyright (c) 2017 Cisco Systems                                             #
# All Rights Reserved.                                                         #
#                                                                              #
#    Licensed under the Apache License, Version 2.0 (the "License"); you may   #
#    not use this file except in compliance with the License. You may obtain   #
#    a copy of the License at                                                  #
#                                                                              #
#         http://www.apache.org/licenses/LICENSE-2.0                           #
#                                                                              #
#    Unless required by applicable law or agreed to in writing, software       #
#    distributed under the License is distributed on an "AS IS" BASIS, WITHOUT #
#    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the  #
#    License for the specific language governing permissions and limitations   #
#    under the License.                                                        #
#                                                                              #
################################################################################

# Description:
# ============
# This JSON output has been copied from APIC debug.log under FTD device package
# logs directory.  This is what APIC configures on FMC using the device package.
# This example is for L2FW BVI w/ two interfaces in pod54 tenant and using
# registered FTD device named ftd-5525-L2FW.
# Below output must be santized so it can be used with a stand-along python
# script.

[Device argument]
{
   "dn": "uni/tn-pod54/lDevVip-ftd-5525-L2FW",
   "name": "ftd-5525-L2FW",
   "host": "10.10.30.54",
   "virtual": false,
   "devs": {
      "Device1": {
         "dn": "uni/tn-pod54/lDevVip-ftd-5525-L2FW/cDev-Device1",
         "state": 0,
         "host": "10.0.0.25",
         "virtual": false,
         "manager": {
            "hosts": {
               "10.10.30.54": {
                  "port": 443
               }
            },
            "name": "fmc62",
            "creds": {
               "username": "apiuser",
               "password": "<hidden>"
            }
         },
         "version": "6.2.0 (build 362)",
         "port": 443,
         "creds": {
            "username": "apiuser",
            "password": "<hidden>"
         }
      }
   },
   "manager": {
      "hosts": {
         "10.10.30.54": {
            "port": 443
         }
      },
      "name": "fmc62",
      "creds": {
         "username": "apiuser",
         "password": "<hidden>"
      }
   },
   "contextaware": false,
   "funcmode": 2,
   "port": 443,
   "creds": {
      "username": "apiuser",
      "password": "<hidden>"
   }
}
[Configuration argument]
{
   "(0, '', 4915)": {
      "'dn'": "uni/vDev-[uni/tn-pod54/lDevVip-ftd-5525-L2FW]-tn-[uni/tn-pod54]-ctx-pod54net",
      "'transaction'": 0,
      "'ackedstate'": 0,
      "'value'": {
         "(8, '', 'ftd-5525-L2FW_web-nic_3014658_16392')": {
            "'state'": 1,
            "'transaction'": 0,
            "'vif'": "ftd-5525-L2FW_web-nic",
            "'ackedstate'": 0,
            "'encap'": "3014658_16392"
         },
         "(7, '', '3014658_49157')": {
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'portgroup'": "pod54|ftd-5525-L2FWctxpod54netapp|app_nic",
            "'state'": 1,
            "'tag'": 573,
            "'type'": 1
         },
         "(4, 'SecurityZone', 'app-zone')": {
            "'state'": 1,
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'value'": {
               "(5, 'type', 'type')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": "SWITCHED"
               }
            }
         },
         "(4, 'BridgeGroupInterface', 'BVI1')": {
            "'state'": 1,
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'value'": {
               "(5, 'bridge_group_id', 'BridgeGroupId')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": "1"
               },
               "(4, 'Interfaces', 'Interfaces')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": {
                     "(4, 'Interface', 'ExternalInterface')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(6, 'InterfaceHolder', 'InterfaceHolder')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "externalInterface",
                              "'ackedstate'": 0
                           }
                        }
                     },
                     "(4, 'Interface', 'InternalInterface')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(6, 'InterfaceHolder', 'InterfaceHolder')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "internalInterface",
                              "'ackedstate'": 0
                           }
                        }
                     }
                  }
               },
               "(4, 'IPv4Config', 'IPv4Config')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": {
                     "(4, 'static', 'static')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(5, 'address', 'address')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'ackedstate'": 0,
                              "'value'": "10.1.0.103/24"
                           }
                        }
                     }
                  }
               }
            }
         },
         "(10, '', 'ftd-5525-L2FW_app-nic')": {
            "'state'": 1,
            "'transaction'": 0,
            "'cifs'": {
               "'Device1'": "G0/1"
            },
            "'ackedstate'": 0
         },
         "(4, 'AccessPolicy', 'ftd-policy')": {
            "'state'": 1,
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'value'": {
               "(4, 'AccessRule', 'ftd-rule1')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": {
                     "(4, 'AccDestinationZones', 'AccDestinationZones')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(6, 'DestinationZones', 'DestinationZone')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "internalInterface/int_security_zone",
                              "'ackedstate'": 0
                           }
                        }
                     },
                     "(5, 'bidirectional', 'Bi-Directional')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": "true"
                     },
                     "(4, 'AccSourceZones', 'AccSourceZones')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(6, 'SourceZones', 'SourceZone')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "externalInterface/int_security_zone",
                              "'ackedstate'": 0
                           }
                        }
                     }
                  }
               },
               "(4, 'AccessRule', 'ftd-rule2')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": {}
               }
            }
         },
         "(10, '', 'ftd-5525-L2FW_web-nic')": {
            "'state'": 1,
            "'transaction'": 0,
            "'cifs'": {
               "'Device1'": "G0/0"
            },
            "'ackedstate'": 0
         },
         "(8, '', 'ftd-5525-L2FW_app-nic_3014658_49157')": {
            "'state'": 1,
            "'transaction'": 0,
            "'vif'": "ftd-5525-L2FW_app-nic",
            "'ackedstate'": 0,
            "'encap'": "3014658_49157"
         },
         "(4, 'SecurityZone', 'web-zone')": {
            "'state'": 1,
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'value'": {
               "(5, 'type', 'type')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": "SWITCHED"
               }
            }
         },
         "(1, '', 5791)": {
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'value'": {
               "(3, 'FTD', 'N1')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": {
                     "(4, 'AccessPolicyFolder', 'AccessPolicyFolder')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(6, 'InAccessPolicyRel', 'InAccessPolicyRel')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "ftd-policy",
                              "'ackedstate'": 0
                           }
                        }
                     },
                     "(4, 'ExIntfConfigRelFolder', 'ExtConfig')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(6, 'ExIntfConfigRel', 'ExtConfigrel')": {
                              "'connector'": "consumer",
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "externalInterface",
                              "'ackedstate'": 0
                           }
                        }
                     },
                     "(2, 'external', 'consumer')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(9, '', 'ftd-5525-L2FW_web-nic_3014658_16392')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "ftd-5525-L2FW_web-nic_3014658_16392",
                              "'ackedstate'": 0
                           }
                        }
                     },
                     "(2, 'internal', 'provider')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(9, '', 'ftd-5525-L2FW_app-nic_3014658_49157')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "ftd-5525-L2FW_app-nic_3014658_49157",
                              "'ackedstate'": 0
                           }
                        }
                     },
                     "(4, 'BridgeInterfaceFolder', 'BridgeInterfaceFolder')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(6, 'InBridgeGroupInterfaceRel', 'InBridgeGroupInterfaceRel')": {
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "BVI1",
                              "'ackedstate'": 0
                           }
                        }
                     },
                     "(4, 'InIntfConfigRelFolder', 'IntConfig')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'ackedstate'": 0,
                        "'value'": {
                           "(6, 'InIntfConfigRel', 'InConfigrel')": {
                              "'connector'": "provider",
                              "'state'": 1,
                              "'transaction'": 0,
                              "'target'": "internalInterface",
                              "'ackedstate'": 0
                           }
                        }
                     }
                  }
               }
            },
            "'state'": 1,
            "'absGraph'": "ftd-l2fw-graph",
            "'rn'": "vGrp-[uni/tn-pod54/GraphInst_C-[uni/tn-pod54/brc-web-to-app2]-G-[uni/tn-pod54/AbsGraph-ftd-l2fw-graph]-S-[uni/tn-pod54]]"
         },
         "(4, 'InterfaceConfig', 'externalInterface')": {
            "'state'": 1,
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'value'": {
               "(5, 'ifname', 'ifname')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": "webnic"
               },
               "(5, 'enabled', 'enabled')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": "true"
               },
               "(4, 'int_security_zone', 'int_security_zone')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": {
                     "(6, 'security_zone', 'security_zone')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'target'": "web-zone",
                        "'ackedstate'": 0
                     }
                  }
               }
            }
         },
         "(4, 'InterfaceConfig', 'internalInterface')": {
            "'state'": 1,
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'value'": {
               "(5, 'ifname', 'ifname')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": "appnic1"
               },
               "(5, 'enabled', 'enabled')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": "true"
               },
               "(4, 'int_security_zone', 'int_security_zone')": {
                  "'state'": 1,
                  "'transaction'": 0,
                  "'ackedstate'": 0,
                  "'value'": {
                     "(6, 'security_zone', 'security_zone')": {
                        "'state'": 1,
                        "'transaction'": 0,
                        "'target'": "app-zone",
                        "'ackedstate'": 0
                     }
                  }
               }
            }
         },
         "(7, '', '3014658_16392')": {
            "'transaction'": 0,
            "'ackedstate'": 0,
            "'portgroup'": "pod54|ftd-5525-L2FWctxpod54netweb|web_nic",
            "'state'": 1,
            "'tag'": 508,
            "'type'": 1
         }
      },
      "'txid'": 10000,
      "'tagPackets'": false,
      "'state'": 1,
      "'ctxName'": "pod54net",
      "'tenant'": "pod54"
   }
}
